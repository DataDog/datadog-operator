
---
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.6.1
  creationTimestamp: null
  name: datadogpodautoscalers.datadoghq.com
spec:
  group: datadoghq.com
  names:
    kind: DatadogPodAutoscaler
    listKind: DatadogPodAutoscalerList
    plural: datadogpodautoscalers
    singular: datadogpodautoscaler
  preserveUnknownFields: false
  scope: Namespaced
  subresources:
    status: {}
  validation:
    openAPIV3Schema:
      description: DatadogPodAutoscaler is the Schema for the datadogpodautoscalers API
      properties:
        apiVersion:
          description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
          type: string
        kind:
          description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
          type: string
        metadata:
          type: object
        spec:
          description: DatadogPodAutoscalerSpec defines the desired state of DatadogPodAutoscaler
          properties:
            constraints:
              description: Constraints defines constraints that should always be respected.
              properties:
                containers:
                  description: Containers defines constraints for the containers.
                  items:
                    description: DatadogPodAutoscalerContainerConstraints defines constraints that should always be respected for a container. If no constraints are set, it enables resources scaling for all containers without any constraints.
                    properties:
                      enabled:
                        description: Enabled false allows to disable resources autoscaling for the container. Default to true.
                        type: boolean
                      limits:
                        description: Limits defines the constraints for the limits of the container.
                        properties:
                          maxAllowed:
                            additionalProperties:
                              anyOf:
                                - type: integer
                                - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: MaxAllowed is the upper limit for the requests of the container.
                            type: object
                          minAllowed:
                            additionalProperties:
                              anyOf:
                                - type: integer
                                - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: MinAllowed is the lower limit for the requests of the container.
                            type: object
                        type: object
                      name:
                        description: Name is the name of the container. Can be "*" to apply to all containers.
                        type: string
                      requests:
                        description: Requests defines the constraints for the requests of the container.
                        properties:
                          maxAllowed:
                            additionalProperties:
                              anyOf:
                                - type: integer
                                - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: MaxAllowed is the upper limit for the requests of the container.
                            type: object
                          minAllowed:
                            additionalProperties:
                              anyOf:
                                - type: integer
                                - type: string
                              pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                              x-kubernetes-int-or-string: true
                            description: MinAllowed is the lower limit for the requests of the container.
                            type: object
                        type: object
                    required:
                      - name
                    type: object
                  type: array
                maxReplicas:
                  description: MaxReplicas is the upper limit for the number of POD replicas. Needs to be >= minReplicas.
                  format: int32
                  type: integer
                minReplicas:
                  description: MinReplicas is the lower limit for the number of POD replicas. Needs to be >= 1. Default to 1.
                  format: int32
                  minimum: 1
                  type: integer
              required:
                - maxReplicas
              type: object
            owner:
              description: Owner defines the source of truth for this object (local or remote) Value needs to be set when a DatadogPodAutoscaler object is created.
              enum:
                - Local
                - Remote
              type: string
            policy:
              description: Policy defines how recommendations should be applied.
              properties:
                update:
                  description: Update defines the policy to update target resource.
                  properties:
                    mode:
                      description: Mode defines the mode of the update policy.
                      enum:
                        - Auto
                        - DryRun
                      type: string
                  type: object
              type: object
            recommender:
              description: Recommender defines the recommender to use for the autoscaler and its settings. Default to the `containerMetrics` recommender.
              properties:
                containerMetrics:
                  description: ContainerMetrics is the settings for the ContainerMetrics recommender.
                  properties:
                    cpuUtilizationTarget:
                      description: CPUUtilizationTarget is the target CPU utilization for the containers.
                      format: int32
                      maximum: 100
                      minimum: 0
                      type: integer
                  type: object
                name:
                  description: Name is the name of the recommender to use.
                  enum:
                    - ContainerMetrics
                  type: string
              required:
                - name
              type: object
            remoteVersion:
              description: RemoteVersion is the version of the .Spec currently store in this object. Only set if the owner is Remote.
              type: integer
            targetRef:
              description: TargetRef is the reference to the resource to scale.
              properties:
                apiVersion:
                  description: API version of the referent
                  type: string
                kind:
                  description: 'Kind of the referent; More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds"'
                  type: string
                name:
                  description: 'Name of the referent; More info: http://kubernetes.io/docs/user-guide/identifiers#names'
                  type: string
              required:
                - kind
                - name
              type: object
          required:
            - owner
            - targetRef
          type: object
        status:
          description: DatadogPodAutoscalerStatus defines the observed state of DatadogPodAutoscaler
          properties:
            conditions:
              description: Conditions describe the current state of the DatadogPodAutoscaler operations.
              items:
                description: DatadogPodAutoscalerCondition describes the state of DatadogPodAutoscaler.
                properties:
                  lastTransitionTime:
                    description: Last time the condition transitioned from one status to another.
                    format: date-time
                    type: string
                  message:
                    description: A human readable message indicating details about the transition.
                    type: string
                  reason:
                    description: The reason for the condition's last transition.
                    type: string
                  status:
                    description: Status of the condition, one of True, False, Unknown.
                    type: string
                  type:
                    description: Type of DatadogMetric condition.
                    type: string
                required:
                  - status
                  - type
                type: object
              type: array
              x-kubernetes-list-map-keys:
                - type
              x-kubernetes-list-type: map
            horizontal:
              description: Horizontal is the status of the horizontal scaling, if activated.
              properties:
                currentReplicas:
                  description: CurrentReplicas is the current number of replicas for the resource
                  format: int32
                  type: integer
                desiredReplicas:
                  description: DesiredReplicas is the desired number of replicas for the resource
                  format: int32
                  type: integer
                updateTime:
                  description: UpdateTime is the timestamp from last recommendation
                  format: date-time
                  type: string
              required:
                - currentReplicas
                - desiredReplicas
                - updateTime
              type: object
            vertical:
              description: Vertical is the status of the vertical scaling, if activated.
              properties:
                desiredResources:
                  description: DesiredResources is the desired resources for containers
                  items:
                    properties:
                      limits:
                        additionalProperties:
                          anyOf:
                            - type: integer
                            - type: string
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        description: Limits describes the maximum amount of compute resources allowed.
                        type: object
                      name:
                        description: Name is the name of the container
                        type: string
                      requests:
                        additionalProperties:
                          anyOf:
                            - type: integer
                            - type: string
                          pattern: ^(\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))(([KMGTPE]i)|[numkMGTPE]|([eE](\+|-)?(([0-9]+(\.[0-9]*)?)|(\.[0-9]+))))?$
                          x-kubernetes-int-or-string: true
                        description: Requests describes target resources of compute resources allowed.
                        type: object
                    required:
                      - name
                    type: object
                  type: array
                scaled:
                  description: Scaled is the current number of PODs having desired resources
                  format: int32
                  type: integer
                total:
                  description: Total is the total number of PODs
                  format: int32
                  type: integer
                updateTime:
                  description: UpdateTime is the timestamp from last recommendation
                  format: date-time
                  type: string
              required:
                - desiredResources
                - scaled
                - total
                - updateTime
              type: object
          type: object
      type: object
  version: v1alpha1
  versions:
    - name: v1alpha1
      served: true
      storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
