apiVersion: datadoghq.com/v2alpha1
kind: DatadogAgent
metadata:
  name: datadog
spec:
  global:
    clusterName: <CLUSTER_NAME>
    credentials:
      apiKey: <DATADOG_API_KEY>
      appKey: <DATADOG_APP_KEY>
    clusterAgentToken: <DATADOG_CLUSTER_AGENT_TOKEN>
  features:
    apm:
      enabled: false
    liveProcessCollection:
      enabled: false
    logCollection:
      enabled: false
      containerCollectAll: false
    admissionController:
      enabled: false
    externalMetricsServer:
      enabled: false
    cspm:
      enabled: false
    cws:
      enabled: false
    clusterChecks:
      enabled: true
      useClusterChecksRunners: true
  override:
    clusterAgent:
      replicas: 2
    clusterChecksRunner:
      replicas: 2
    nodeAgent:
      tolerations:
        - operator: Exists
