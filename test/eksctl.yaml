apiVersion: eksctl.io/v1alpha5
kind: ClusterConfig

metadata:
  name: lenaic-karpenter-test
  # region: us-east-1
  region: eu-west-3
  version: "1.33"
  tags:
    Creator: lenaic

iam:
  withOIDC: true

vpc:
  id: vpc-0b2a25ef193f9a931
  subnets:
    # private:
    #   us-east-1a:
    #     id: subnet-0a15f3482cd3f9820
    #   us-east-1b:
    #     id: subnet-091570395d476e9ce
    #   us-east-1d:
    #     id: subnet-003831c49a10df3dd
    private:
      eu-west-3a:
        id: subnet-0e08d6ea64a70ad35
      eu-west-3b:
        id: subnet-07aaca522252301b0
      eu-west-3c:
        id: subnet-05e10de88ea36557b
  clusterEndpoints:
    privateAccess: true
    publicAccess: false
  securityGroup: REPLACE_ME

managedNodeGroups:
  - name: ng
    instanceType: t4g.large
    amiFamily: AmazonLinux2023
    desiredCapacity: 2
    minSize: 0
    maxSize: 10
    privateNetworking: true
    tags:
      Creator: lenaic
    ssh:
      publicKeyName: lenaic
